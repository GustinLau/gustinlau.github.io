---
id: B0EB811C4B911293
title: 409、最长回文串
date: 2022-04-25 14:53:54
permalink: /leetcode/longest-palindrome
link: https://leetcode-cn.com/problems/longest-palindrome
toc: false
categories:
  - LeetCode
tags:
  - 贪心
  - 哈希表
  - 字符串
---

<Level type='easy'/>

## 题目

给定一个包含大写字母和小写字母的字符串，找到通过这些字母构造成的**最长的回文串**。

在构造过程中，请注意**区分大小写**。比如 `"Aa"` 不能当做一个回文字符串。

## 示例

示例 1:

```text
输入:s = "abccccdd"
输出:7
解释:
我们可以构造的最长的回文串是"dccaccd", 它的长度是 7。
```

示例 2:

```text
输入:s = "a"
输入:1
```

示例 3:

```text
输入:s = "bb"
输入: 2
```

## 提示

- 1 <= s.length <= 2000
- s 只能由小写和/或大写英文字母组成

## 分析

统计相同字符的个数，奇数个的减 `1` 后累加，偶数个的直接累加，如果出现奇数个的，结果再加一。

## 解答

```javascript
/**
 * @param {string} s
 * @return {number}
 */
var longestPalindrome = function (s) {
  const map = new Map()
  for (let i = 0; i < s.length; i++) {
    const c = s[i]
    map.set(c, (map.get(c) || 0) + 1)
  }
  let one = false
  let ans = 0
  for (let key of map.keys()) {
    const count = map.get(key)
    if (count % 2 === 0) {
      ans += count
    } else {
      one = true
      ans += count - 1
    }
  }
  return one ? ++ans : ans
}
```
