---
id: 4B1432E889E8D538
title: 475、供暖器
date: 2022-04-25 14:54:15
permalink: /leetcode/heaters
link: https://leetcode-cn.com/problems/heaters
toc: false
categories:
  - LeetCode
tags:
  - 数组
  - 双指针
  - 二分查找
  - 排序
---

<Level type='medium'/>

## 题目

冬季已经来临。 你的任务是设计一个有固定加热半径的供暖器向所有房屋供暖。

在加热器的加热半径范围内的每个房屋都可以获得供暖。

现在，给出位于一条水平线上的房屋 `houses` 和供暖器 `heaters` 的位置，请你找出并返回可以覆盖所有房屋的最小加热半径。

**说明**：所有供暖器都遵循你的半径标准，加热的半径也一样。

## 示例

示例 1:

```text
输入: houses = [1,2,3], heaters = [2]
输出: 1
解释: 仅在位置2上有一个供暖器。如果我们将加热半径设为1，那么所有房屋就都能得到供暖。
```

示例 2:

```text
输入: houses = [1,2,3,4], heaters = [1,4]
输出: 1
解释: 在位置1, 4上有两个供暖器。我们需要将加热半径设为1，这样所有房屋就都能得到供暖。
```

示例 3：

```text
输入：houses = [1,5], heaters = [2]
输出：3
```

## 提示

- 1 <= houses.length, heaters.length <= 3 \* 10<sup>4</sup>
- 1 <= houses[i], heaters[i] <= 10<sup>9</sup>

## 分析

将 `heaters` 排序，遍历 `houses`，寻找对应 `house` 最近的供暖器的距离，然后取这些距离中最大的那个。

## 解答

```javascript
/**
 * @param {number[]} houses
 * @param {number[]} heaters
 * @return {number}
 */
var findRadius = function (houses, heaters) {
  heaters = heaters.sort((a, b) => a - b)
  let ans = 0
  for (let i = 0; i < houses.length; i++) {
    ans = Math.max(find(houses[i], heaters), ans)
  }
  return ans
}

var find = (house, heaters) => {
  let l = 0
  let r = heaters.length - 1
  let result = Infinity
  while (l <= r) {
    const mid = Math.floor((r - l) / 2) + l
    if (heaters[mid] === house) {
      return 0
    } else if (heaters[mid] < house) {
      result = Math.min(house - heaters[mid], result)
      l = mid + 1
    } else {
      result = Math.min(heaters[mid] - house, result)
      r = mid - 1
    }
  }
  return result
}
```
