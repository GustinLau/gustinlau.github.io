---
id: 76D3AFC493C7559B
title: 59、螺旋矩阵 II
date: 2021-12-02 19:10:48
permalink: /leetcode/spiral-matrix-ii
link: https://leetcode-cn.com/problems/spiral-matrix-ii
toc: false
categories:
  - LeetCode
tags:
  - 数组
  - 矩阵
  - 模拟
---

<Level type='medium'/>

## 题目

给你一个正整数 `n` ，生成一个包含 `1` 到 <code>n<sup>2</sup></code> 所有元素，且元素按顺时针顺序螺旋排列的 `n * n` 正方形矩阵 `matrix` 。

## 示例

示例 1：

![示例 1](/img/leetcode/0000-0099/59.1.png)

```text
输入：n = 3
输出：[[1,2,3],[8,9,4],[7,6,5]]
```

示例 2：

```text
输入：n = 1
输出：[[1]]
```

## 提示

- 1 <= n <= 20

## 分析

使用四个值代表 `4` 个方向，当遇到边界或者有数值的就转换方向

## 解答

```javascript
/**
 * @param {number} n
 * @return {number[][]}
 */
var generateMatrix = function (n) {
  const count = n * n
  let direction = 0
  let row = 0,
    col = -1
  const matrix = new Array(n).fill(0).map(() => [])
  for (let i = 1; i <= count; i++) {
    // 0=右，1=下，2=左，3=上
    if (direction === 0) {
      col++
      if (col === n || matrix[row][col] != null) {
        col--
        row++
        direction = 1
      }
    } else if (direction === 1) {
      row++
      if (row === n || matrix[row][col] != null) {
        row--
        col--
        direction = 2
      }
    } else if (direction === 2) {
      col--
      if (col === -1 || matrix[row][col] != null) {
        col++
        row--
        direction = 3
      }
    } else {
      row--
      if (row === -1 || matrix[row][col] != null) {
        row++
        col++
        direction = 0
      }
    }
    matrix[row][col] = i
  }
  return matrix
}
```
