---
id: 9E67FD36130BDEAA
title: 204、计数质数
date: 2022-04-22 17:09:05
permalink: /leetcode/count-primes
link: https://leetcode-cn.com/problems/count-primes
toc: false
categories:
  - LeetCode
tags:
  - 数组
  - 数学
  - 枚举
  - 数论
---

<Level type='medium'/>

给定整数 `n` ，返回 所有小于非负整数 `n` 的质数的数量 。

## 示例

示例 1：

```text
输入：n = 10
输出：4
解释：小于 10 的质数一共有 4 个, 它们是 2, 3, 5, 7 。
```

示例 2：

```text
输入：n = 0
输出：0
```

示例 3：

```text
输入：n = 1
输出：0
```

## 提示

- 0 <= n <= 5 \* 10<sup>6</sup>

## 分析

[埃拉托斯特尼筛法](https://baike.baidu.com/item/%E5%9F%83%E6%8B%89%E6%89%98%E6%96%AF%E7%89%B9%E5%B0%BC%E7%AD%9B%E6%B3%95)

## 解答

```javascript
/**
 * @param {number} n
 * @return {number}
 */
var countPrimes = function (n) {
  const isPrimes = new Array(n).fill(true)
  let ans = 0
  for (let i = 2; i < n; i++) {
    if (!isPrimes[i]) continue
    ans++
    for (let j = i; j < n; j += i) {
      isPrimes[j] = false
    }
  }
  return ans
}
```
