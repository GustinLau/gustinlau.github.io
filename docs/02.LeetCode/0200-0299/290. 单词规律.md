---
id: 01A627C2986829CF
title: 290、单词规律
date: 2021-12-02 19:10:48
permalink: /leetcode/word-pattern
link: https://leetcode-cn.com/problems/word-pattern
toc: false
categories:
  - LeetCode
tags:
  - 哈希表
  - 字符串
---

<Level type='easy'/>

## 题目

给定一种规律 `pattern` 和一个字符串 `str`，判断 `str` 是否遵循相同的规律。

这里的**遵循**指完全匹配，例如，`pattern` 里的每个字母和字符串 `str` 中的每个非空单词之间存在着双向连接的对应规律。

## 示例

示例 1:

```text
输入: pattern = "abba", str = "dog cat cat dog"
输出: true
```

示例 2:

```text
输入:pattern = "abba", str = "dog cat cat fish"
输出: false
```

示例 3:

```text
输入: pattern = "aaaa", str = "dog cat cat dog"
输出: false
```

示例 4:

```text
输入: pattern = "abba", str = "dog dog dog dog"
输出: false
```

## 提示

- 1 <= pattern.length <= 300
- pattern  只包含小写英文字母
- 1 <= s.length <= 3000
- s  只包含小写英文字母和  ' '
- s  不包含 任何前导或尾随对空格
- s  中每个单词都被 单个空格 分隔

## 分析

使用 `map` 记录 `char` 跟 `word` 与 `word` 跟 `char` 的映射关系，遇到不一致的，直接返回。

## 解答

```javascript
/**
 * @param {string} pattern
 * @param {string} s
 * @return {boolean}
 */
var wordPattern = function (pattern, s) {
  const c2w = new Map()
  const w2c = new Map()
  const words = s.split(' ')
  if (words.length !== pattern.length) {
    return false
  }
  for (let i = 0; i < words.length; i++) {
    const c = pattern.charAt(i)
    const w = words[i]
    if ((c2w.has(c) && c2w.get(c) !== w) || (w2c.has(w) && w2c.get(w) !== c)) {
      return false
    }
    w2c.set(w, c)
    c2w.set(c, w)
  }
  return true
}
```
