---
id: B29AF10ED7333D62
title: 387、字符串中的第一个唯一字符
date: 2022-04-24 17:37:24
permalink: /leetcode/first-unique-character-in-a-string
link: https://leetcode-cn.com/problems/first-unique-character-in-a-string
toc: false
categories:
  - LeetCode
tags:
  - 队列
  - 哈希表
  - 字符串
  - 计数
---

<Level type='easy'/>

## 题目

给定一个字符串 `s`，找到它的第一个不重复的字符，并返回它的索引。如果不存在，则返回 `-1`。

## 示例

示例 1：

```text
输入: s = "leetcode"
输出: 0
```

示例 2:

```text
输入: s = "loveleetcode"
输出: 2
```

示例 3:

```text
输入: s = "aabb"
输出: -1
```

## 提示

- 1 <= s.length <= 10<sup>5</sup>
- s 只包含小写字母

## 分析

- 暴力
  - 判断字母首次出现于末次出现是的索引值是否一致
- 哈希+队列
  - 维护一个哈希表记录首次出现的位置和一个首次出现的字母队列，遍历数组，当字母重复出现时，哈希表重复出现字母标志为`-1`，队列元素出队直到队首元素再哈希表中的值不为`-1`

## 解答

:::: code-group
::: code-group-item 暴力

```javascript
/**
 * @param {string} s
 * @return {number}
 */
var firstUniqChar = function (s) {
  for (let i = 0; i < s.length; i++) {
    if (s.lastIndexOf(s[i]) === i && s.indexOf(s[i]) === i) {
      return i
    }
  }
  return -1
}
```

:::
::: code-group-item 哈希 + 队列

```javascript
/**
 * @param {string} s
 * @return {number}
 */
var firstUniqChar = function (s) {
  const queue = []
  const map = new Map()
  for (let i = 0; i < s.length; i++) {
    if (!map.has(s[i])) {
      queue.push(s[i])
      map.set(s[i], i)
    } else {
      map.set(s[i], -1)
      while (queue.length && map.get(queue[0]) === -1) {
        queue.shift()
      }
    }
  }
  return queue.length > 0 ? map.get(queue[0]) : -1
}
```

:::
::::
